{"ast":null,"code":"var _jsxFileName = \"/media/swiss/Data/frontend/dilo-teddy/modul3/kuisAPISentryThunkMaterialUI/src/components/edit.js\";\nimport React, { Component } from 'react';\nimport { TextField, withStyles, makeStyles, Grid, Container, Button, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core/';\nconst styles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 500\n  }\n}));\n\nclass edit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.editPost = () => {\n      fetch(\"http://dummy.restapiexample.com/api/v1/employee/\".concat(this.state.id), {\n        method: 'PUT',\n        body: JSON.stringify({\n          //convert string body ke json\n          employee_salary: this.state.title,\n          employee_age: this.state.body,\n          id: this.state.userid\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(json => console.log(json));\n    };\n\n    this.state = {\n      items: [],\n      title: '',\n      body: '',\n      userid: 0,\n      users: [],\n      id: this.props.location.id\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://dummy.restapiexample.com/api/v1/employees\").then(res => res.json()).then(result => {\n      this.setState({\n        users: result,\n        title: result.employee_salary,\n        body: result.employee_age,\n        userid: result.id\n      });\n    }, error => {\n      console.log(error);\n    });\n    fetch(\"http://dummy.restapiexample.com/api/v1/employee\".concat(this.state.id)).then(res => res.json()).then(result => {\n      this.setState({\n        items: result,\n        title: result.employee_salary,\n        body: result.employee_age,\n        userid: result.id\n      });\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n    return React.createElement(Container, {\n      fixed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: classes.container,\n      noValidate: true,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      required: true,\n      id: \"title\",\n      name: \"title\",\n      className: classes.textField,\n      style: {\n        width: 500\n      },\n      margin: \"normal\",\n      onChange: this.changeHandler,\n      value: this.state.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      required: true,\n      id: \"body\",\n      name: \"body\",\n      className: classes.textField,\n      style: {\n        width: 500\n      },\n      margin: \"normal\",\n      onChange: this.changeHandler,\n      value: this.state.body,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      style: {\n        marginBottom: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      shrink: true,\n      id: \"label-demi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Select, {\n      labelId: \"label-demi\",\n      id: \"label-demi-id\",\n      onChange: this.changeHandler,\n      displayEmpty: true,\n      name: \"userid\",\n      style: {\n        width: 500,\n        marginBottom: 10\n      },\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.users.map((item, i) => item.id === this.state.userid ? React.createElement(MenuItem, {\n      key: i,\n      value: \"\",\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, item.name) : React.createElement(MenuItem, {\n      key: i,\n      value: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, item.name))))), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.editPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nexport default withStyles(styles)(edit);","map":{"version":3,"sources":["/media/swiss/Data/frontend/dilo-teddy/modul3/kuisAPISentryThunkMaterialUI/src/components/edit.js"],"names":["React","Component","TextField","withStyles","makeStyles","Grid","Container","Button","FormControl","InputLabel","Select","MenuItem","styles","theme","container","display","flexWrap","textField","marginLeft","spacing","marginRight","width","edit","constructor","props","changeHandler","event","setState","target","name","value","editPost","fetch","state","id","method","body","JSON","stringify","employee_salary","title","employee_age","userid","headers","then","response","json","console","log","items","users","location","componentDidMount","res","result","error","render","classes","marginBottom","map","item","i"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport {TextField, withStyles, makeStyles, Grid, Container, Button, FormControl, InputLabel, Select, MenuItem} from '@material-ui/core/';\n\nconst styles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 500,\n  },\n}));\n\nclass edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      title: '',\n      body: '',\n      userid: 0,\n      users: [],\n      id:this.props.location.id,\n    };\n  }\n\n  changeHandler = (event) => {\n    this.setState({[event.target.name]:event.target.value})\n  }\n\n  editPost = () => {\n\n    fetch(`http://dummy.restapiexample.com/api/v1/employee/${this.state.id}`, {\n      method: 'PUT',\n      body: JSON.stringify({ //convert string body ke json\n        employee_salary: this.state.title,\n        employee_age: this.state.body,\n        id: this.state.userid\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      }\n    })\n    .then(response => response.json())\n    .then(json => console.log(json))\n\n  }\n\n  componentDidMount() {\n    fetch(\"http://dummy.restapiexample.com/api/v1/employees\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            users: result,\n            title:result.employee_salary,\n            body:result.employee_age,\n            userid:result.id,\n          });\n        },\n        (error) => {\n          console.log(error)\n        }\n      )\n\n    fetch(`http://dummy.restapiexample.com/api/v1/employee${this.state.id}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            items: result,\n            title:result.employee_salary,\n            body:result.employee_age,\n            userid:result.id,\n          });\n        },                \n        (error) => {\n          console.log(error)   \n        }\n      )\n  }\n\n    render() {\n      const {classes} = this.props;\n        return (\n            <Container fixed>\n              <Grid container spacing={3}>\n                <form className={classes.container} noValidate autoComplete=\"off\">\n                  <div>\n                    <TextField\n                      required\n                      id=\"title\"\n                      name=\"title\"\n                      className={classes.textField}\n                      style={{width:500}}\n                      margin=\"normal\"\n                      onChange={this.changeHandler}\n                      value={this.state.title}\n                    />\n                  </div>\n                  <div>\n                    <TextField\n                      required\n                      id=\"body\"\n                      name=\"body\"\n                      className={classes.textField}\n                      style={{width:500}}\n                      margin=\"normal\"\n                      onChange={this.changeHandler}\n                      value={this.state.body}\n                    />\n                  </div>\n                  <div>\n                    <FormControl style={{marginBottom:10}}>\n                      <InputLabel shrink id=\"label-demi\">\n                        \n                      </InputLabel>\n                      <Select\n                        labelId=\"label-demi\"\n                        id=\"label-demi-id\"\n                        onChange={this.changeHandler}\n                        displayEmpty\n                        name=\"userid\"\n                        style={{width:500, marginBottom:10}}\n                        value=\"\"\n                      >\n                        \n                        {this.state.users.map((item,i) => (\n                          (item.id===this.state.userid)\n                          ?\n                            <MenuItem key={i} value=\"\" selected>{item.name}\n                            </MenuItem>\n                          :\n                            <MenuItem key={i} value={item.id}>{item.name}</MenuItem>\n                        ))}\n                      </Select>\n\n                      \n                    </FormControl>\n                  </div>\n                  <Button variant=\"contained\" color=\"primary\" onClick={this.editPost}>\n                    Submit\n                  </Button>\n                </form>\n              </Grid>\n\n            </Container>\n        );\n    }\n}\n\nexport default withStyles(styles)(edit)"]},"metadata":{},"sourceType":"module"}